class Create<%= goal.cp %> < ActiveRecord::Migration
  def self.up
    create_table :<%= goal.p %> do |t|
<%= goal.fields.map { |k, v| "      t.#{v} :#{k}" }.join("\n") %> 
<% goal.foreign_keys.map { |k, v| "      t.#{v} :#{k[0..-4]}" }.join("\n") %> 
      t.timestamps
    end
  end

  def self.down
    drop_table :<%= goal.p %>
  end
end